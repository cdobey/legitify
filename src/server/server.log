
> server@1.0.0 dev
> ts-node src/app.ts

Server is running on port 3001
Swagger docs available at http://localhost:3001/docs
PayloadTooLargeError: request entity too large
    at readStream (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/raw-body/index.js:163:17)
    at getRawBody (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/raw-body/index.js:116:12)
    at read (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/body-parser/lib/read.js:79:3)
    at jsonParser (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/body-parser/lib/types/json.js:138:5)
    at Layer.handle [as handle_request] (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/express/lib/router/index.js:328:13)
    at /Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/express/lib/router/index.js:280:10)
    at cors (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/cors/lib/index.js:188:7)
Authenticated user: {
  uid: 'DBr6eT123HfZswp6fTTiWf3uLKt2',
  role: 'employer',
  orgName: 'orgemployer',
  tokenIssued: '2025-02-18T03:13:55.000Z',
  tokenExpires: '2025-02-18T04:13:55.000Z'
}
[0mGET /user/search?email=test4 [33m404[0m 1898.959 ms - 26[0m
Authenticated user: {
  uid: 'DBr6eT123HfZswp6fTTiWf3uLKt2',
  role: 'employer',
  orgName: 'orgemployer',
  tokenIssued: '2025-02-18T03:13:55.000Z',
  tokenExpires: '2025-02-18T04:13:55.000Z'
}
[0mGET /user/search?email=test4%40test.com [33m404[0m 394.211 ms - 26[0m
Authenticated user: {
  uid: 'DBr6eT123HfZswp6fTTiWf3uLKt2',
  role: 'employer',
  orgName: 'orgemployer',
  tokenIssued: '2025-02-18T03:13:55.000Z',
  tokenExpires: '2025-02-18T04:13:55.000Z'
}
[0mPOST /degree/verify [32m200[0m 398.642 ms - 66[0m
Authenticated user: {
  uid: 'DBr6eT123HfZswp6fTTiWf3uLKt2',
  role: 'employer',
  orgName: 'orgemployer',
  tokenIssued: '2025-02-18T03:13:55.000Z',
  tokenExpires: '2025-02-18T04:13:55.000Z'
}
[0mGET /user/search?email=test4%40test.com [33m404[0m 380.407 ms - 26[0m
Authenticated user: {
  uid: 'DBr6eT123HfZswp6fTTiWf3uLKt2',
  role: 'employer',
  orgName: 'orgemployer',
  tokenIssued: '2025-02-18T03:13:55.000Z',
  tokenExpires: '2025-02-18T04:13:55.000Z'
}
[0mPOST /degree/verify [32m200[0m 345.165 ms - 66[0m
Authenticated user: {
  uid: '54vPN8e7J3QMywsmBslBgRj2RFs2',
  role: 'university',
  orgName: 'orguniversity',
  tokenIssued: '2025-02-18T03:28:42.000Z',
  tokenExpires: '2025-02-18T04:28:42.000Z'
}
[0mGET /me [32m200[0m 572.465 ms - 209[0m
Authenticated user: {
  uid: '54vPN8e7J3QMywsmBslBgRj2RFs2',
  role: 'university',
  orgName: 'orguniversity',
  tokenIssued: '2025-02-18T03:28:42.000Z',
  tokenExpires: '2025-02-18T04:28:42.000Z'
}
[0mGET /me [36m304[0m 510.130 ms - -[0m
Authenticated user: {
  uid: 'FYUVqMlYwvgVoEnZ9qCPmciRjcy1',
  role: 'individual',
  orgName: 'orgindividual',
  tokenIssued: '2025-02-18T03:29:02.000Z',
  tokenExpires: '2025-02-18T04:29:02.000Z'
}
[0mGET /me [32m200[0m 391.357 ms - 219[0m
Authenticated user: {
  uid: 'FYUVqMlYwvgVoEnZ9qCPmciRjcy1',
  role: 'individual',
  orgName: 'orgindividual',
  tokenIssued: '2025-02-18T03:29:02.000Z',
  tokenExpires: '2025-02-18T04:29:02.000Z'
}
[0mGET /me [36m304[0m 327.071 ms - -[0m
Authenticated user: {
  uid: 'FYUVqMlYwvgVoEnZ9qCPmciRjcy1',
  role: 'individual',
  orgName: 'orgindividual',
  tokenIssued: '2025-02-18T03:29:02.000Z',
  tokenExpires: '2025-02-18T04:29:02.000Z'
}
[0mGET /degree/list [32m200[0m 504.707 ms - 267[0m
Authenticated user: {
  uid: 'FYUVqMlYwvgVoEnZ9qCPmciRjcy1',
  role: 'individual',
  orgName: 'orgindividual',
  tokenIssued: '2025-02-18T03:29:02.000Z',
  tokenExpires: '2025-02-18T04:29:02.000Z'
}
[0mGET /degree/list [36m304[0m 488.834 ms - -[0m
Authenticated user: {
  uid: 'FYUVqMlYwvgVoEnZ9qCPmciRjcy1',
  role: 'individual',
  orgName: 'orgindividual',
  tokenIssued: '2025-02-18T03:29:02.000Z',
  tokenExpires: '2025-02-18T04:29:02.000Z'
}
Fetching requests for user: FYUVqMlYwvgVoEnZ9qCPmciRjcy1
All user documents: [
  {
    id: 'b99afd66-e238-4572-88fa-043cdf150ee2',
    issuedTo: 'FYUVqMlYwvgVoEnZ9qCPmciRjcy1',
    issuer: 'd5pWhNPpWXcImPgREaW0SWFTBfD3',
    docHash: 'a591a6d40bf420404a011733cfb7b190d62c65bf0bcda32b57b277d9ad9f146e',
    fileData: Uint8Array(11) [
       72, 101, 108, 108,
      111,  32,  87, 111,
      114, 108, 100
    ],
    status: 'accepted',
    createdAt: 2025-02-18T02:50:59.456Z,
    updatedAt: 2025-02-18T02:51:08.485Z
  },
  {
    id: '492449cd-7957-4da4-8cca-3ec525acf209',
    issuedTo: 'FYUVqMlYwvgVoEnZ9qCPmciRjcy1',
    issuer: '54vPN8e7J3QMywsmBslBgRj2RFs2',
    docHash: 'f16baa10e36aa2854aa742ff535461128b6a3e6a5e9f676cac4848616174f5e5',
    fileData: Uint8Array(48) [
      229, 214, 246, 211, 135, 156, 239, 199, 154,
      229, 222, 154, 233, 198, 159, 123,  87, 183,
      209, 174, 117, 213, 238,  27, 215,  77,  90,
      127, 222,  27, 213, 247, 244, 237, 230, 158,
      111,  71, 159, 223,  70, 181, 115,  93, 120,
      127,  71, 159
    ],
    status: 'accepted',
    createdAt: 2025-02-18T02:51:15.736Z,
    updatedAt: 2025-02-18T03:11:55.465Z
  }
]
User documents with requests: [
  {
    "id": "b99afd66-e238-4572-88fa-043cdf150ee2",
    "status": "accepted",
    "requests": [
      {
        "id": "d80255d7-9832-49a7-9ae5-d9e8bc56dd9c",
        "requesterId": "DBr6eT123HfZswp6fTTiWf3uLKt2",
        "documentId": "b99afd66-e238-4572-88fa-043cdf150ee2",
        "status": "granted",
        "createdAt": "2025-02-18T02:51:08.843Z",
        "updatedAt": "2025-02-18T03:12:07.719Z",
        "requester": {
          "username": "testemployer",
          "orgName": "orgemployer"
        }
      }
    ]
  },
  {
    "id": "492449cd-7957-4da4-8cca-3ec525acf209",
    "status": "accepted",
    "requests": []
  }
]
Formatted requests: [
  {
    requestId: 'd80255d7-9832-49a7-9ae5-d9e8bc56dd9c',
    docId: 'b99afd66-e238-4572-88fa-043cdf150ee2',
    docStatus: 'accepted',
    employerName: 'orgemployer',
    requestDate: 2025-02-18T02:51:08.843Z,
    status: 'granted'
  }
]
[0mGET /degree/requests [32m200[0m 395.046 ms - 213[0m
Authenticated user: {
  uid: 'FYUVqMlYwvgVoEnZ9qCPmciRjcy1',
  role: 'individual',
  orgName: 'orgindividual',
  tokenIssued: '2025-02-18T03:29:02.000Z',
  tokenExpires: '2025-02-18T04:29:02.000Z'
}
Fetching requests for user: FYUVqMlYwvgVoEnZ9qCPmciRjcy1
All user documents: [
  {
    id: 'b99afd66-e238-4572-88fa-043cdf150ee2',
    issuedTo: 'FYUVqMlYwvgVoEnZ9qCPmciRjcy1',
    issuer: 'd5pWhNPpWXcImPgREaW0SWFTBfD3',
    docHash: 'a591a6d40bf420404a011733cfb7b190d62c65bf0bcda32b57b277d9ad9f146e',
    fileData: Uint8Array(11) [
       72, 101, 108, 108,
      111,  32,  87, 111,
      114, 108, 100
    ],
    status: 'accepted',
    createdAt: 2025-02-18T02:50:59.456Z,
    updatedAt: 2025-02-18T02:51:08.485Z
  },
  {
    id: '492449cd-7957-4da4-8cca-3ec525acf209',
    issuedTo: 'FYUVqMlYwvgVoEnZ9qCPmciRjcy1',
    issuer: '54vPN8e7J3QMywsmBslBgRj2RFs2',
    docHash: 'f16baa10e36aa2854aa742ff535461128b6a3e6a5e9f676cac4848616174f5e5',
    fileData: Uint8Array(48) [
      229, 214, 246, 211, 135, 156, 239, 199, 154,
      229, 222, 154, 233, 198, 159, 123,  87, 183,
      209, 174, 117, 213, 238,  27, 215,  77,  90,
      127, 222,  27, 213, 247, 244, 237, 230, 158,
      111,  71, 159, 223,  70, 181, 115,  93, 120,
      127,  71, 159
    ],
    status: 'accepted',
    createdAt: 2025-02-18T02:51:15.736Z,
    updatedAt: 2025-02-18T03:11:55.465Z
  }
]
User documents with requests: [
  {
    "id": "b99afd66-e238-4572-88fa-043cdf150ee2",
    "status": "accepted",
    "requests": [
      {
        "id": "d80255d7-9832-49a7-9ae5-d9e8bc56dd9c",
        "requesterId": "DBr6eT123HfZswp6fTTiWf3uLKt2",
        "documentId": "b99afd66-e238-4572-88fa-043cdf150ee2",
        "status": "granted",
        "createdAt": "2025-02-18T02:51:08.843Z",
        "updatedAt": "2025-02-18T03:12:07.719Z",
        "requester": {
          "username": "testemployer",
          "orgName": "orgemployer"
        }
      }
    ]
  },
  {
    "id": "492449cd-7957-4da4-8cca-3ec525acf209",
    "status": "accepted",
    "requests": []
  }
]
Formatted requests: [
  {
    requestId: 'd80255d7-9832-49a7-9ae5-d9e8bc56dd9c',
    docId: 'b99afd66-e238-4572-88fa-043cdf150ee2',
    docStatus: 'accepted',
    employerName: 'orgemployer',
    requestDate: 2025-02-18T02:51:08.843Z,
    status: 'granted'
  }
]
[0mGET /degree/requests [36m304[0m 379.895 ms - -[0m
PayloadTooLargeError: request entity too large
    at readStream (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/raw-body/index.js:163:17)
    at getRawBody (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/raw-body/index.js:116:12)
    at read (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/body-parser/lib/read.js:79:3)
    at jsonParser (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/body-parser/lib/types/json.js:138:5)
    at Layer.handle [as handle_request] (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/express/lib/router/index.js:328:13)
    at /Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/express/lib/router/index.js:280:10)
    at cors (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/cors/lib/index.js:188:7)
PayloadTooLargeError: request entity too large
    at readStream (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/raw-body/index.js:163:17)
    at getRawBody (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/raw-body/index.js:116:12)
    at read (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/body-parser/lib/read.js:79:3)
    at jsonParser (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/body-parser/lib/types/json.js:138:5)
    at Layer.handle [as handle_request] (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/express/lib/router/index.js:328:13)
    at /Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/express/lib/router/index.js:280:10)
    at cors (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/cors/lib/index.js:188:7)
Authenticated user: {
  uid: 'DBr6eT123HfZswp6fTTiWf3uLKt2',
  role: 'employer',
  orgName: 'orgemployer',
  tokenIssued: '2025-02-18T03:13:55.000Z',
  tokenExpires: '2025-02-18T04:13:55.000Z'
}
[0mPOST /degree/verify [33m400[0m 430.889 ms - 46[0m
Authenticated user: {
  uid: 'DBr6eT123HfZswp6fTTiWf3uLKt2',
  role: 'employer',
  orgName: 'orgemployer',
  tokenIssued: '2025-02-18T03:13:55.000Z',
  tokenExpires: '2025-02-18T04:13:55.000Z'
}
[0mPOST /degree/verify [32m200[0m 399.498 ms - 66[0m
Authenticated user: {
  uid: 'd5pWhNPpWXcImPgREaW0SWFTBfD3',
  role: 'university',
  orgName: 'orguniversity',
  tokenIssued: '2025-02-18T03:35:40.000Z',
  tokenExpires: '2025-02-18T04:35:40.000Z'
}
[0mGET /me [32m200[0m 380.595 ms - 219[0m
Authenticated user: {
  uid: 'd5pWhNPpWXcImPgREaW0SWFTBfD3',
  role: 'university',
  orgName: 'orguniversity',
  tokenIssued: '2025-02-18T03:35:40.000Z',
  tokenExpires: '2025-02-18T04:35:40.000Z'
}
[0mGET /me [36m304[0m 335.078 ms - -[0m
Authenticated user: {
  uid: 'd5pWhNPpWXcImPgREaW0SWFTBfD3',
  role: 'university',
  orgName: 'orguniversity',
  tokenIssued: '2025-02-18T03:35:40.000Z',
  tokenExpires: '2025-02-18T04:35:40.000Z'
}
2025-02-18T03:36:16.647Z - [31merror[39m: [ServiceEndpoint]: Error: Failed to connect before the deadline on Endorser- name: peer0.orgemployer.com, url:grpcs://localhost:8051, connected:false, connectAttempted:true
2025-02-18T03:36:16.647Z - [31merror[39m: [ServiceEndpoint]: waitForReady - Failed to connect to remote gRPC server peer0.orgemployer.com url:grpcs://localhost:8051 timeout:3000
2025-02-18T03:36:16.648Z - [32minfo[39m: [NetworkConfig]: buildPeer - Unable to connect to the endorser peer0.orgemployer.com due to Error: Failed to connect before the deadline on Endorser- name: peer0.orgemployer.com, url:grpcs://localhost:8051, connected:false, connectAttempted:true
    at checkState (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/@grpc/grpc-js/src/client.ts:177:18)
    at Timeout._onTimeout (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/@grpc/grpc-js/src/internal-channel.ts:782:9)
    at listOnTimeout (node:internal/timers:594:17)
    at processTimers (node:internal/timers:529:7) {
  connectFailed: true
}
2025-02-18T03:36:19.651Z - [31merror[39m: [ServiceEndpoint]: Error: Failed to connect before the deadline on Endorser- name: peer0.orgindividual.com, url:grpcs://localhost:9051, connected:false, connectAttempted:true
2025-02-18T03:36:19.652Z - [31merror[39m: [ServiceEndpoint]: waitForReady - Failed to connect to remote gRPC server peer0.orgindividual.com url:grpcs://localhost:9051 timeout:3000
2025-02-18T03:36:19.653Z - [32minfo[39m: [NetworkConfig]: buildPeer - Unable to connect to the endorser peer0.orgindividual.com due to Error: Failed to connect before the deadline on Endorser- name: peer0.orgindividual.com, url:grpcs://localhost:9051, connected:false, connectAttempted:true
    at checkState (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/@grpc/grpc-js/src/client.ts:177:18)
    at Timeout._onTimeout (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/@grpc/grpc-js/src/internal-channel.ts:782:9)
    at listOnTimeout (node:internal/timers:594:17)
    at processTimers (node:internal/timers:529:7) {
  connectFailed: true
}
[0mPOST /degree/issue [32m201[0m 8884.434 ms - 74[0m
Authenticated user: {
  uid: 'FYUVqMlYwvgVoEnZ9qCPmciRjcy1',
  role: 'individual',
  orgName: 'orgindividual',
  tokenIssued: '2025-02-18T03:29:02.000Z',
  tokenExpires: '2025-02-18T04:29:02.000Z'
}
Fetching requests for user: FYUVqMlYwvgVoEnZ9qCPmciRjcy1
All user documents: [
  {
    id: 'b99afd66-e238-4572-88fa-043cdf150ee2',
    issuedTo: 'FYUVqMlYwvgVoEnZ9qCPmciRjcy1',
    issuer: 'd5pWhNPpWXcImPgREaW0SWFTBfD3',
    docHash: 'a591a6d40bf420404a011733cfb7b190d62c65bf0bcda32b57b277d9ad9f146e',
    fileData: Uint8Array(11) [
       72, 101, 108, 108,
      111,  32,  87, 111,
      114, 108, 100
    ],
    status: 'accepted',
    createdAt: 2025-02-18T02:50:59.456Z,
    updatedAt: 2025-02-18T02:51:08.485Z
  },
  {
    id: '492449cd-7957-4da4-8cca-3ec525acf209',
    issuedTo: 'FYUVqMlYwvgVoEnZ9qCPmciRjcy1',
    issuer: '54vPN8e7J3QMywsmBslBgRj2RFs2',
    docHash: 'f16baa10e36aa2854aa742ff535461128b6a3e6a5e9f676cac4848616174f5e5',
    fileData: Uint8Array(48) [
      229, 214, 246, 211, 135, 156, 239, 199, 154,
      229, 222, 154, 233, 198, 159, 123,  87, 183,
      209, 174, 117, 213, 238,  27, 215,  77,  90,
      127, 222,  27, 213, 247, 244, 237, 230, 158,
      111,  71, 159, 223,  70, 181, 115,  93, 120,
      127,  71, 159
    ],
    status: 'accepted',
    createdAt: 2025-02-18T02:51:15.736Z,
    updatedAt: 2025-02-18T03:11:55.465Z
  },
  {
    id: '56701ab7-7235-4345-bc0b-6243c6c09d08',
    issuedTo: 'FYUVqMlYwvgVoEnZ9qCPmciRjcy1',
    issuer: 'd5pWhNPpWXcImPgREaW0SWFTBfD3',
    docHash: 'f16baa10e36aa2854aa742ff535461128b6a3e6a5e9f676cac4848616174f5e5',
    fileData: Uint8Array(48) [
      229, 214, 246, 211, 135, 156, 239, 199, 154,
      229, 222, 154, 233, 198, 159, 123,  87, 183,
      209, 174, 117, 213, 238,  27, 215,  77,  90,
      127, 222,  27, 213, 247, 244, 237, 230, 158,
      111,  71, 159, 223,  70, 181, 115,  93, 120,
      127,  71, 159
    ],
    status: 'issued',
    createdAt: 2025-02-18T03:36:21.879Z,
    updatedAt: 2025-02-18T03:36:21.879Z
  }
]
User documents with requests: [
  {
    "id": "b99afd66-e238-4572-88fa-043cdf150ee2",
    "status": "accepted",
    "requests": [
      {
        "id": "d80255d7-9832-49a7-9ae5-d9e8bc56dd9c",
        "requesterId": "DBr6eT123HfZswp6fTTiWf3uLKt2",
        "documentId": "b99afd66-e238-4572-88fa-043cdf150ee2",
        "status": "granted",
        "createdAt": "2025-02-18T02:51:08.843Z",
        "updatedAt": "2025-02-18T03:12:07.719Z",
        "requester": {
          "username": "testemployer",
          "orgName": "orgemployer"
        }
      }
    ]
  },
  {
    "id": "492449cd-7957-4da4-8cca-3ec525acf209",
    "status": "accepted",
    "requests": []
  },
  {
    "id": "56701ab7-7235-4345-bc0b-6243c6c09d08",
    "status": "issued",
    "requests": []
  }
]
Formatted requests: [
  {
    requestId: 'd80255d7-9832-49a7-9ae5-d9e8bc56dd9c',
    docId: 'b99afd66-e238-4572-88fa-043cdf150ee2',
    docStatus: 'accepted',
    employerName: 'orgemployer',
    requestDate: 2025-02-18T02:51:08.843Z,
    status: 'granted'
  }
]
[0mGET /degree/requests [36m304[0m 405.339 ms - -[0m
Authenticated user: {
  uid: 'FYUVqMlYwvgVoEnZ9qCPmciRjcy1',
  role: 'individual',
  orgName: 'orgindividual',
  tokenIssued: '2025-02-18T03:29:02.000Z',
  tokenExpires: '2025-02-18T04:29:02.000Z'
}
Fetching requests for user: FYUVqMlYwvgVoEnZ9qCPmciRjcy1
All user documents: [
  {
    id: 'b99afd66-e238-4572-88fa-043cdf150ee2',
    issuedTo: 'FYUVqMlYwvgVoEnZ9qCPmciRjcy1',
    issuer: 'd5pWhNPpWXcImPgREaW0SWFTBfD3',
    docHash: 'a591a6d40bf420404a011733cfb7b190d62c65bf0bcda32b57b277d9ad9f146e',
    fileData: Uint8Array(11) [
       72, 101, 108, 108,
      111,  32,  87, 111,
      114, 108, 100
    ],
    status: 'accepted',
    createdAt: 2025-02-18T02:50:59.456Z,
    updatedAt: 2025-02-18T02:51:08.485Z
  },
  {
    id: '492449cd-7957-4da4-8cca-3ec525acf209',
    issuedTo: 'FYUVqMlYwvgVoEnZ9qCPmciRjcy1',
    issuer: '54vPN8e7J3QMywsmBslBgRj2RFs2',
    docHash: 'f16baa10e36aa2854aa742ff535461128b6a3e6a5e9f676cac4848616174f5e5',
    fileData: Uint8Array(48) [
      229, 214, 246, 211, 135, 156, 239, 199, 154,
      229, 222, 154, 233, 198, 159, 123,  87, 183,
      209, 174, 117, 213, 238,  27, 215,  77,  90,
      127, 222,  27, 213, 247, 244, 237, 230, 158,
      111,  71, 159, 223,  70, 181, 115,  93, 120,
      127,  71, 159
    ],
    status: 'accepted',
    createdAt: 2025-02-18T02:51:15.736Z,
    updatedAt: 2025-02-18T03:11:55.465Z
  },
  {
    id: '56701ab7-7235-4345-bc0b-6243c6c09d08',
    issuedTo: 'FYUVqMlYwvgVoEnZ9qCPmciRjcy1',
    issuer: 'd5pWhNPpWXcImPgREaW0SWFTBfD3',
    docHash: 'f16baa10e36aa2854aa742ff535461128b6a3e6a5e9f676cac4848616174f5e5',
    fileData: Uint8Array(48) [
      229, 214, 246, 211, 135, 156, 239, 199, 154,
      229, 222, 154, 233, 198, 159, 123,  87, 183,
      209, 174, 117, 213, 238,  27, 215,  77,  90,
      127, 222,  27, 213, 247, 244, 237, 230, 158,
      111,  71, 159, 223,  70, 181, 115,  93, 120,
      127,  71, 159
    ],
    status: 'issued',
    createdAt: 2025-02-18T03:36:21.879Z,
    updatedAt: 2025-02-18T03:36:21.879Z
  }
]
User documents with requests: [
  {
    "id": "b99afd66-e238-4572-88fa-043cdf150ee2",
    "status": "accepted",
    "requests": [
      {
        "id": "d80255d7-9832-49a7-9ae5-d9e8bc56dd9c",
        "requesterId": "DBr6eT123HfZswp6fTTiWf3uLKt2",
        "documentId": "b99afd66-e238-4572-88fa-043cdf150ee2",
        "status": "granted",
        "createdAt": "2025-02-18T02:51:08.843Z",
        "updatedAt": "2025-02-18T03:12:07.719Z",
        "requester": {
          "username": "testemployer",
          "orgName": "orgemployer"
        }
      }
    ]
  },
  {
    "id": "492449cd-7957-4da4-8cca-3ec525acf209",
    "status": "accepted",
    "requests": []
  },
  {
    "id": "56701ab7-7235-4345-bc0b-6243c6c09d08",
    "status": "issued",
    "requests": []
  }
]
Formatted requests: [
  {
    requestId: 'd80255d7-9832-49a7-9ae5-d9e8bc56dd9c',
    docId: 'b99afd66-e238-4572-88fa-043cdf150ee2',
    docStatus: 'accepted',
    employerName: 'orgemployer',
    requestDate: 2025-02-18T02:51:08.843Z,
    status: 'granted'
  }
]
[0mGET /degree/requests [36m304[0m 338.674 ms - -[0m
Authenticated user: {
  uid: 'FYUVqMlYwvgVoEnZ9qCPmciRjcy1',
  role: 'individual',
  orgName: 'orgindividual',
  tokenIssued: '2025-02-18T03:29:02.000Z',
  tokenExpires: '2025-02-18T04:29:02.000Z'
}
[0mGET /degree/list [32m200[0m 333.067 ms - 398[0m
Authenticated user: {
  uid: 'FYUVqMlYwvgVoEnZ9qCPmciRjcy1',
  role: 'individual',
  orgName: 'orgindividual',
  tokenIssued: '2025-02-18T03:29:02.000Z',
  tokenExpires: '2025-02-18T04:29:02.000Z'
}
[0mGET /degree/list [36m304[0m 341.941 ms - -[0m
Authenticated user: {
  uid: 'FYUVqMlYwvgVoEnZ9qCPmciRjcy1',
  role: 'individual',
  orgName: 'orgindividual',
  tokenIssued: '2025-02-18T03:29:02.000Z',
  tokenExpires: '2025-02-18T04:29:02.000Z'
}
2025-02-18T03:36:46.856Z - [31merror[39m: [ServiceEndpoint]: Error: Failed to connect before the deadline on Endorser- name: peer0.orguniversity.com, url:grpcs://localhost:7051, connected:false, connectAttempted:true
2025-02-18T03:36:46.857Z - [31merror[39m: [ServiceEndpoint]: waitForReady - Failed to connect to remote gRPC server peer0.orguniversity.com url:grpcs://localhost:7051 timeout:3000
2025-02-18T03:36:46.861Z - [32minfo[39m: [NetworkConfig]: buildPeer - Unable to connect to the endorser peer0.orguniversity.com due to Error: Failed to connect before the deadline on Endorser- name: peer0.orguniversity.com, url:grpcs://localhost:7051, connected:false, connectAttempted:true
    at checkState (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/@grpc/grpc-js/src/client.ts:177:18)
    at Timeout._onTimeout (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/@grpc/grpc-js/src/internal-channel.ts:782:9)
    at listOnTimeout (node:internal/timers:594:17)
    at processTimers (node:internal/timers:529:7) {
  connectFailed: true
}
2025-02-18T03:36:49.874Z - [31merror[39m: [ServiceEndpoint]: Error: Failed to connect before the deadline on Endorser- name: peer0.orgemployer.com, url:grpcs://localhost:8051, connected:false, connectAttempted:true
2025-02-18T03:36:49.875Z - [31merror[39m: [ServiceEndpoint]: waitForReady - Failed to connect to remote gRPC server peer0.orgemployer.com url:grpcs://localhost:8051 timeout:3000
2025-02-18T03:36:49.876Z - [32minfo[39m: [NetworkConfig]: buildPeer - Unable to connect to the endorser peer0.orgemployer.com due to Error: Failed to connect before the deadline on Endorser- name: peer0.orgemployer.com, url:grpcs://localhost:8051, connected:false, connectAttempted:true
    at checkState (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/@grpc/grpc-js/src/client.ts:177:18)
    at Timeout._onTimeout (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/@grpc/grpc-js/src/internal-channel.ts:782:9)
    at listOnTimeout (node:internal/timers:594:17)
    at processTimers (node:internal/timers:529:7) {
  connectFailed: true
}
[0mPOST /degree/accept [32m200[0m 8593.485 ms - 63[0m
Authenticated user: {
  uid: 'FYUVqMlYwvgVoEnZ9qCPmciRjcy1',
  role: 'individual',
  orgName: 'orgindividual',
  tokenIssued: '2025-02-18T03:29:02.000Z',
  tokenExpires: '2025-02-18T04:29:02.000Z'
}
[0mGET /degree/list [32m200[0m 409.209 ms - 400[0m
Authenticated user: {
  uid: 'DBr6eT123HfZswp6fTTiWf3uLKt2',
  role: 'employer',
  orgName: 'orgemployer',
  tokenIssued: '2025-02-18T03:37:20.000Z',
  tokenExpires: '2025-02-18T04:37:20.000Z'
}
[0mGET /me [32m200[0m 1033.357 ms - 211[0m
Authenticated user: {
  uid: 'DBr6eT123HfZswp6fTTiWf3uLKt2',
  role: 'employer',
  orgName: 'orgemployer',
  tokenIssued: '2025-02-18T03:37:20.000Z',
  tokenExpires: '2025-02-18T04:37:20.000Z'
}
[0mGET /me [36m304[0m 531.362 ms - -[0m
Authenticated user: {
  uid: 'DBr6eT123HfZswp6fTTiWf3uLKt2',
  role: 'employer',
  orgName: 'orgemployer',
  tokenIssued: '2025-02-18T03:37:20.000Z',
  tokenExpires: '2025-02-18T04:37:20.000Z'
}
2025-02-18T03:37:35.910Z - [31merror[39m: [ServiceEndpoint]: Error: Failed to connect before the deadline on Endorser- name: peer0.orguniversity.com, url:grpcs://localhost:7051, connected:false, connectAttempted:true
2025-02-18T03:37:35.910Z - [31merror[39m: [ServiceEndpoint]: waitForReady - Failed to connect to remote gRPC server peer0.orguniversity.com url:grpcs://localhost:7051 timeout:3000
2025-02-18T03:37:35.913Z - [32minfo[39m: [NetworkConfig]: buildPeer - Unable to connect to the endorser peer0.orguniversity.com due to Error: Failed to connect before the deadline on Endorser- name: peer0.orguniversity.com, url:grpcs://localhost:7051, connected:false, connectAttempted:true
    at checkState (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/@grpc/grpc-js/src/client.ts:177:18)
    at Timeout._onTimeout (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/@grpc/grpc-js/src/internal-channel.ts:782:9)
    at listOnTimeout (node:internal/timers:594:17)
    at processTimers (node:internal/timers:529:7) {
  connectFailed: true
}
2025-02-18T03:37:38.931Z - [31merror[39m: [ServiceEndpoint]: Error: Failed to connect before the deadline on Endorser- name: peer0.orgindividual.com, url:grpcs://localhost:9051, connected:false, connectAttempted:true
2025-02-18T03:37:38.931Z - [31merror[39m: [ServiceEndpoint]: waitForReady - Failed to connect to remote gRPC server peer0.orgindividual.com url:grpcs://localhost:9051 timeout:3000
2025-02-18T03:37:38.932Z - [32minfo[39m: [NetworkConfig]: buildPeer - Unable to connect to the endorser peer0.orgindividual.com due to Error: Failed to connect before the deadline on Endorser- name: peer0.orgindividual.com, url:grpcs://localhost:9051, connected:false, connectAttempted:true
    at checkState (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/@grpc/grpc-js/src/client.ts:177:18)
    at Timeout._onTimeout (/Users/chris.dobey/College/FYP/2025-csc1097-mannp2-dobeyc3/src/server/node_modules/@grpc/grpc-js/src/internal-channel.ts:782:9)
    at listOnTimeout (node:internal/timers:594:17)
    at processTimers (node:internal/timers:529:7) {
  connectFailed: true
}
[0mPOST /degree/verify [32m200[0m 6573.635 ms - 107[0m
