FROM node:16

WORKDIR /chaincode
COPY . .

# Install dependencies including TypeScript
RUN npm install
RUN npm install -g typescript

# Build the chaincode
RUN npm run build

CMD ["npm", "start"]